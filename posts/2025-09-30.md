---
title: 设置1panel域名登录
date: 2025-09-30
tags: [软件, 服务器, 1panel]
head:
  - - meta
    - name: description
      content: 1panel实现域名登录的过程记录
  - - meta
    - name: keywords
      content: 1panel 服务器 登录
---

因为ip地址难记且不够安全，所以我将其设置为了域名登录。

---

# 目录

1. 设置
2. 问题+解决方案

---

# 设置

在[Cloudflare](cloudflare.com)里添加A记录（IPV4）或AAA记录（IPV6）到目标服务器，这些都是常规操作，故本博客不再赘述，有需要的自行搜索，在设置好之后，转到SSL/TLS中的子项“源服务器”，创建一个证书，保持默认设置即可：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_01.webp)

然后在[1Panel](https://1panel.cn/)中导入证书，最后呈现的结果应是CloudFlare颁发：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_02.webp)

::: tip
建议去除安全人口
:::

然后在Cloudflare中点击规则-创建规则-源服务器规则-Origin Rules，填入信息：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_03.webp)

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_04.webp)

::: tip
字段选主机名，远算符选等于
:::

# 问题+解决方案

1panel本身并不支持二级目录反代，只能使用根目录进行反代，不然就会报错一直转圈，要解决这个办法，就要使用端口的不同来达到一个域名访问两个项目的原理。

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_05.webp)

这些是Cloudflare支持代理的端口，在1panel的安全设置里更改，再放开防火墙，最后再设置域名访问就可以了：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_06.webp)

而与此同时，无后缀的仍然处于无法访问状态：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_07.webp)

::: tip
在设置前，我已经将部署的项目停止了
:::

不过这样做就要加上安全口令，不然容易被爆破，设置完之后，就不能用源服务器规则了，直接用重定向规则就行：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_08.webp)

请求URL填你要访问的地址，目标URL就填1panel的访问地址+安全口令即可访问，可能会遇到无法访问的问题，只需要删除上面的规则，在新建规则界面选择重定向到其他域模板即可：

![](https://r2.guange.top/%E8%AE%BE%E7%BD%AE1panel%E5%9F%9F%E5%90%8D%E7%99%BB%E5%BD%95_09.webp)

::: tip
记得将URL重定向类型改为静态
:::