---
title: 我的第一个服务器
date: 2025-09-13
tags: [软件, 博客, 服务器]
cover: https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_cover.webp
head:
  - - meta
    - name: description
      content: 本文讲述了使用Vultr服务器搭建个人博客的过程
  - - meta
    - name: keywords
      content: Vultr 博客 服务器 搭建
---

第一个服务器注册成功了，记录下过程。

---
# 目录

1. 域名注册
2. 解析商更改
3. HTTPS证书注册
4. 服务器注册
5. 宝塔面板部署（弃用）
6. 1Panel面板部署
7. Alist部署+设置证书
8. Navidrome搭建
9. 博客配置

---

# 域名注册

域名是在[Namesilo](https://www.namesilo.com/)注册的，最便宜的.top域名，首年只要1.88美元，使用优惠码之后直接到了底价1美元：

::: info
【优惠码：SAMUEL】
:::

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_1.webp)

::: tip
1.88美元只是首年价格，第二年续费是需要4.88美元的
:::

注册完第二天，Namesilo发了一封邮件，但是当时我正准备上学，所以没空去管：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_2.webp)

结果回家之后，Namesilo直接告诉我域名冻结了：

> ![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_3.webp)
其实发了这封邮件之后，网页其实还是可以访问的

其实这件事解决起来也简单，上面的图片也写了，我的姓名电话之类的东西都是空的，所以需要在Namesilo里面填写好联系方式（如不如实影响不大），之后再找客服说一声就可以了：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_4.webp)

::: tip
Namesilo的客服界面很难找，需要走很多界面
:::

# 解析商更改

Namesilo自带的DNS解析服务十分不稳定，建议进行更改，我选择的域名解析商是Cloudflare，部署过程很简单，选择计划后，将Namesilo的解析地址更换成Cloudflare提供的地址就可以了：

> ![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_5.webp)
Namesilo的解析地址更改界面，默认有三个，删掉一个然后将剩下的改成Cloudflare提供的地址就行了

# HTTPS证书注册

在选择完域名解析商之后，就要注册证书以防止网址在注册的时候显示不安全连接，我选择了OHTTPS作为证书提供商，在提供了必要的信息之后（建议使用DNS认证），返回了四个文件：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_6.webp)

::: tip
建议先下载备份，后续需要使用到前两个文件。
:::

# 服务器注册

域名和解析商搞定了之后，接下来就到服务器了，我用的服务器提供商是[Vultr](https://www.vultr.com/)，共享机，1核1G，25G硬盘，加上自动备份每个月6美元：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_7.webp)

::: warning
不建议选3美元的那个服务器，只提供ipv6服务而且服务器地址不可更改
:::

服务器充值可以使用优惠码，可以获得双倍充值，选择好服务器配置之后，就可以选择操作系统了：

::: info
【优惠码：VULTRMATCH】
:::

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_8.webp)

如果只是博客的话，Vultr自带OpenLiteSpeed WordPress环境，听说快30倍，也不知道是不是真的，但是我还要部署Alist和其他项目，就选择了Ubuntu LTS环境。

# HTTPS证书注册

::: tip
如果选择了WordPress自动部署，就不用看这块栏目了。
:::

服务器安装好之后，就轮到安装环节了，由于我是新手，所以选择一个图形化面板便于管理，如图所示，在安装好堡塔管理面板之后（也可以代码装，具体过程就是用[XShell](https://www.xshell.com/zh/xshell/)连接服务器执行代码，不会的Google一下即可），填入服务器的信息即可自动安装：

> ![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_9.webp)
堡塔管理面板的添加服务器界面

# 1Panel面板部署

结果我不会用，宝塔搞来搞去都在Alist上栽跟头，所以我决定弃用宝塔，转向1Panel：
![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_10.webp)

::: tip
在Vultr中点击Server Reinstall即可快速重装服务器，不改变IP地址
:::

安装好XShell之后，在“新建”界面输入服务器的ip地址就能用ssh登录了：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_11.webp)

登录完之后，执行这行命令，自动安装1Panel：

```bash
bash -c "$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)"
```

# Alist部署+设置证书

弃用宝塔的原因之一就是因为Alist，不过这个问题在1Panel中直接变成送分题，只需要在应用商店中搜索Alist就行了：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_12.webp)

在安装完Alist之后，还要设置证书，由于我已经在OHTTPS中设置完了证书，这里直接选上传证书就行了：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_13.webp)

::: warning
上传证书是从服务器里提取文件，所以要将私钥和证书文件先上传到服务器中（最好新建一个文件夹，避免权限混乱）
:::

在设置完https之后，直接新建网站即可，选中部署的应用，输入网站（如果是子域名，需要先在CloudFlare部署），选择证书即可访问：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_14.webp)

如果遇到无法访问的问题，请先在防火墙中允许端口通过（80和443，其他软件在应用商店-已安装）：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_15.webp)

成功进入网站之后，点击容器-alist-终端-连接，输入如下命令设置密码：

- 生成随机密码：

```bash
./alist admin random
```
- 手动设置密码：

```bash
./alist admin set NEW_PASSWORD
```
随后打开设置的域名地址，大功告成。

- 部署完才发现Alist已经被收购了，为了各位的数据安全，还是转移到Openlist或其他替代品吧，不过Openlist的部署操作基本与Alist一致，这里就不再写了。

# Navidrome搭建

[Navidrome](https://www.navidrome.org/)的优势之一就是资源占用低，对于我这个姥爷服务器很有用，web端听歌，虽然仅仅作为紧急用途，但是这已经足够了，安装方法也比较简单，直接在应用商店搜索即可：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_16.webp)

部署完之后，其实就可以结束了，只需要往指定文件夹传输歌曲就行了，但是我的服务器比较小，所以我打算挂载网盘到本地来扩大空间，挂载工具用的是[CloudDrive2](https://www.clouddrive2.com/)，小白流程，省心。先在终端输入以下指令：

```bash
apt install fuse3 -y
```

```bash
mkdir -p /etc/systemd/system/docker.service.d/
```

```bash
cat <<EOF > /etc/systemd/system/docker.service.d/clear_mount_propagation_flags.conf
[Service]
MountFlags=shared
EOF
```

```bash
df -h
```

```bash
mount --make-shared /dev
```

完成后，返回 VPS 的 1Panel 界面，选择左侧的“容器”-“编排”-“创建编排”，点击“编辑”，在下方对话框中输入 cd2 （配置文件保存路径为 compose下cd2目录），编辑下方，输入以下代码

```bash
version: "2.1"
services:
 cloudnas:
   image: cloudnas/clouddrive2-unstable
   container_name: clouddrive2
   ports:
     - "19798:19798"
   environment:
      - TZ=Asia/Shanghai
      - CLOUDDRIVE_HOME=/Config
   volumes:
     - /dev/cd2/CloudNAS:/CloudNAS:shared
     - /dev/cd2/Config:/Config
     - /dev/cd2/media:/media:shared 
   devices:
     - /dev/fuse:/dev/fuse
   restart: unless-stopped
   pid: "host"
   privileged: true 
   network_mode: "host"
```

然后再将防火墙中的19798端口打开，进入CloudDrive2，选择好网盘之后，点击挂载，将网盘的音乐文件夹挂载到media里面：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_17.webp)

之后就会看到1Panel里面多出了一个盘：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_18.webp)

::: tip
直接点击就能进去盘符，不用扒路径
:::

停用Navidrome容器，新建一个挂载，将CloudDrive2中的路径复制进去：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_19.webp)

然后再进入Navidrome界面，在右上角的library里面添加路径就行了：

![](https://r2.guange.top/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8_20.webp)

::: tip
添加完之后还要在左上角选中
:::

# 博客配置

最后就是博客了，依然是[WordPress](https://cn.wordpress.org/)，但是由于失去了LiteSpeed的支持，所以访问速度会慢亿点，等我有钱了将博客单独开出到另外一个服务器里面。
先部署mysql和WordPress，这些东西应用商店里面都有，记得将防火墙打开就行了。然后就是安装插件和主题，然后就搞定了，整个过程非常简单。